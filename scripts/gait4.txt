/ compiler script to walk with a 4 legged gait
/ -documentation in gait4.pdf soon

/set up in first position
MoveToHomePosition
/ pause command isn't implemented yet, so just repeat the command
MoveToHomePosition
MoveToHomePosition

/ move legs 2 and 5 out of the way, into gull wing position
/ MoveRelLastLocal moves specified leg by offsets in local coords from wherever it currently is.
/ we're in home position, and first command works on leg 2
/ the 4 says go +4 in local X direction, i.e. sideways away from bot for leg 2
/ the 11 say go +11 in local Y direction, i.e. raise the 11 cm
/ the 0 says don't change the Z direction, i.e. don't pivot the hip
MoveRelLastLocal 2,4,11,0
MoveRelLastLocal 5,4,11,0
Doit $p,25

/ move leg 1 to spot A
/ MoveRelLastGlobal moves specified leg by offsets in global coords from wherever it currently is.
/ we're in home position, and these commands work on leg 1
/ the first 6 says move 6 cm in the global X direction, i.e. towards front of bot
/ the 0 says don't change the Y position - how far you are sideways from the centerline of the bot
/ the last 6 says go 6 CM in the global Z direction, i.e. upwards
/ this command moves toe diagonally, going forward and up at the same time
MoveRelLastglobal 1,6,0,6
/ the template.txt file controls the frame time interval (25 ish for smooth leg movement)
/    and the debugging level ( 1 for no console output to slow down leg movement & make it jaggy)
/ output a flow command to do the movement we described above
Doit $p

/ do a similar command to lower the leg left in the air after last command, straight down
MoveRelLastGlobal 1,0,0,-6
Doit $p

/ move leg 4 to spot B - similar process, but a different relative offset
MoveRelLastGlobal 4,2,0,6
Doit $p
MoveRelLastGlobal 4,0,0,-6
Doit $p

/ move leg 3 to spot C - similar process, but a different relative offset
MoveRelLastGlobal 3,-2,0,6
Doit $p
MoveRelLastGlobal 3,0,0,-6
Doit $P

/ move leg6 to spot D - similar process, but a different relative offset
MoveRelLastGlobal 6,-6,0,6
Doit $p
MoveRelLastGlobal 6,0,0,-6
Doit $p

/ OK, legs are positioned. ready to do the actual 4 legged walking

/Each step has 2 phases:
/ in the first:
/     - back most leg lifts up and forward
/     - other legs push back a bit (4 cm) on the floor
/ in the second:
/     - backmost leg comes straight down to start of it's on-floor travel
/     - other legs push back a bit on the floor

/Each of the 8 phases has a single move command (i.e. Doit) including movement for all 4 active legs

/Phase 1 -------------------------
/ move leg 1 to half way between spot A and spot B
MoveRelLastGlobal 1,-2,0,0

/ move leg 3 to half way between spot B and spot C
/ command looks the same because it's relative to current position
MoveRelLastGlobal 3,-2,0,0

/ move leg 4 to half way between spot C and spot D
MoveRelLastGlobal 4,-2,0,0

/ left leg 6 and move it forwards to spot A, but up in the air
MoveRelLastGlobal 6,8,0,6

Doit $w

/Phase 2 -------------------------
/ move leg 1 the rest of the way to spot B
MoveRelLastGlobal 1,-2,0,0

/ move leg 3 the rest of the way to spot C
/ command looks the same because it's relative to current position
MoveRelLastGlobal 3,-2,0,0

/ move leg 4 the rest of the way to spot D
MoveRelLastGlobal 4,-2,0,0

/ lower leg 6 to spot A on the floor
MoveRelLastGlobal 6,0,0,-6

Doit $w




/ to be continued...

